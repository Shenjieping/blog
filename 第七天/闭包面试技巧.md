## 谈谈你对闭包的理解，以及在项目中的应用

1. 阐述闭包是什么？（衍生的问题是，堆栈，EC, VO, SCOPE）
2. 闭包的作用，以及在真实项目中的应用，以及带来的问题和解决
3. 由闭包引发的高级编程技巧
4. 突出自己在分析研究框架的源码，（比如自己写的类库，插件的时候）是怎么用这些东西的

### 闭包是什么

  浏览器加载页面会把代码放到栈内存中去执行（ECStack），函数进栈执行之前，会产生一个私有的上下文(EC)，此上下文能保护里面的私有变量（AO）,不受外界的干扰，并且如果当前上下文中的某些内容，被当下文以外的内容占用，当前上下文是不会出栈释放的，形成不被销毁的栈内存。这样可以保存里面的变量和变量值。所有我认为闭包是一种保存和保护内部私有变量的机制。

### 闭包在真实项目中的应用

  在真实项目中，我的应用场景还是比较多的，比如：

    1. 我会基于闭包把自己编写的模块内容包起来，这样编写的代码都是自己私有的，防止和全局变量或者别人写的代码冲突，这一点利用的是闭包的保护机制
    2. 在之前没有用let之前，我们循环处理事件绑定的时候，在事件触发需要用到索引的时候，我们会基于闭包把每一轮循环的索引值保存起来，这样来实现我们的需求，只不过现在都是基于let来完成，因为let会产生块级作用，来保存需要的内容，机制和闭包类似
    3. 但是不建议过多使用闭包，因为会形成不会释放栈的上下文，是占用内存空间的，过多的使用会导致页面渲染变慢，所以要合理应用闭包

### 由闭包引发的高级编程技巧

  除了这些传统的业务开发中会用到闭包，我之前在研究别人源码和自己写一写插件的时候，往往会利用一些JS高级编程技巧来实现的管理和功能的开发，他们的底层原理其实就是闭包，比如：

    1. 惰性思想
    2. 柯理化函数
    3. compose函数
    4. ...